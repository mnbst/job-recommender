# 2025-12-07

## 作業内容
- CLAUDE.mdにUpdates Generation Ruleを追加（git commit後に日記更新）
- python-devエージェントのモデルをsonnet→opusに変更
- PostToolUse hookでgit commit検知時にUPDATE_DIARYを表示
- /update コマンドと updates/ ディレクトリを追加
- ruff の追加・設定修正
- ローカル開発環境の構築
  - `.env.example` 環境変数テンプレート作成
  - `scripts/run-local.sh` Secret Managerから認証情報取得して起動するスクリプト作成

## 学び
- Vertex AIのローカル開発時の認証は `gcloud auth application-default login` が必要
- `gcloud config get-value project` と `gcloud config get-value compute/region` でプロジェクトIDとリージョンを取得可能
- Secret Managerの値は `gcloud secrets versions access latest --secret="SECRET_NAME"` で取得できる
- Cloud Run環境とローカル環境で認証方式が異なる（Cloud Run: サービスアカウント自動、ローカル: ADC手動設定）
